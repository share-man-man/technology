import{_ as s,c as a,o as i,a3 as n}from"./chunks/framework.xYH2UIc0.js";const u=JSON.parse('{"title":"常用配置","description":"","frontmatter":{},"headers":[],"relativePath":"prepare/public-config.md","filePath":"prepare/public-config.md","lastUpdated":1720088397000}'),t={name:"prepare/public-config.md"},e=n(`<h1 id="常用配置" tabindex="-1">常用配置 <a class="header-anchor" href="#常用配置" aria-label="Permalink to &quot;常用配置&quot;">​</a></h1><h2 id="安装常用工具" tabindex="-1">安装常用工具 <a class="header-anchor" href="#安装常用工具" aria-label="Permalink to &quot;安装常用工具&quot;">​</a></h2><ul><li><a href="https://github.com/nvm-sh/nvm#installing-and-updating" target="_blank" rel="noreferrer">nvm</a></li><li><a href="https://pnpm.io/zh/" target="_blank" rel="noreferrer">pnpm</a></li><li><a href="https://yarnpkg.com/getting-started/install" target="_blank" rel="noreferrer">yarn</a></li><li><a href="https://git-scm.com/downloads" target="_blank" rel="noreferrer">git</a>（mac 自带，wsl 需要安装）</li></ul><h2 id="node-版本配置" tabindex="-1">node 版本配置 <a class="header-anchor" href="#node-版本配置" aria-label="Permalink to &quot;node 版本配置&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 其他版本根据业务需求自行安装</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 16</span></span></code></pre></div><h2 id="git-配置" tabindex="-1">git 配置 <a class="header-anchor" href="#git-配置" aria-label="Permalink to &quot;git 配置&quot;">​</a></h2><ul><li><p>避免 git 每次 commit 都要输入用户名、密码</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> credential.helper</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> store</span></span></code></pre></div></li><li><p>规范 commit 信息</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 所有项目默认使用angular的模板，不同公司要求模板不同，可在项目根目录单独设置 .czrc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commitizen</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cz-conventional-changelog</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --registry=https://registry.npmmirror.com</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{ &quot;path&quot;: &quot;cz-conventional-changelog&quot; }&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.czrc</span></span></code></pre></div></li></ul><h3 id="git-多环境" tabindex="-1">git 多环境 <a class="header-anchor" href="#git-多环境" aria-label="Permalink to &quot;git 多环境&quot;">​</a></h3><blockquote><p>在不同目录，提交代码时，使用不同的 user.name 和 user.email</p></blockquote><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>.</span></span>
<span class="line"><span>├── company-a    // A公司项目</span></span>
<span class="line"><span>│   ├── proj1</span></span>
<span class="line"><span>│   ├── proj2</span></span>
<span class="line"><span>├── company-b   // B公司项目</span></span>
<span class="line"><span>│   ├── proj3</span></span>
<span class="line"><span>│   ├── proj4</span></span>
<span class="line"><span>└── self        // 个人项目</span></span>
<span class="line"><span>    ├── proj5</span></span></code></pre></div><ol><li><p>打开 git 全局配置:~/.gitconfig</p></li><li><p>添加 includeIf 配置，<a href="https://git-scm.com/docs/git-config#_example" target="_blank" rel="noreferrer">官方文档</a></p><blockquote><p>自行替换{path}地址</p></blockquote><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>[credential]</span></span>
<span class="line"><span>  helper = store</span></span>
<span class="line"><span>[includeIf &quot;gitdir:{path}/company-a/&quot;]</span></span>
<span class="line"><span>  path = {path}/company-a/.gitconfig-a</span></span>
<span class="line"><span>[includeIf &quot;gitdir:{path}/company-b/&quot;]</span></span>
<span class="line"><span>  path = {path}/company-b/.gitconfig-b</span></span>
<span class="line"><span>[includeIf &quot;gitdir:{path}/self/&quot;]</span></span>
<span class="line"><span>  path = {path}/self/.gitconfig-self</span></span></code></pre></div></li><li><p>创建<code>~/.gitconfig</code>中配置的私有配置</p><blockquote><p>{path}/company-a/.gitconfig-a</p></blockquote><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>[user]</span></span>
<span class="line"><span>name = aaaa</span></span>
<span class="line"><span>email = aaaa@compa.com</span></span></code></pre></div><blockquote><p>{path}/company-b/.gitconfig-b</p></blockquote><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>[user]</span></span>
<span class="line"><span>name = bbb</span></span>
<span class="line"><span>email = bbb@compb.com</span></span></code></pre></div><blockquote><p>{path}/selft/.gitconfig-self</p></blockquote><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>[user]</span></span>
<span class="line"><span>name = user</span></span>
<span class="line"><span>email = user@gmail.com</span></span></code></pre></div></li></ol><h2 id="ssh-key-配置" tabindex="-1">ssh key 配置 <a class="header-anchor" href="#ssh-key-配置" aria-label="Permalink to &quot;ssh key 配置&quot;">​</a></h2><h3 id="ssh-多环境" tabindex="-1">ssh 多环境 <a class="header-anchor" href="#ssh-多环境" aria-label="Permalink to &quot;ssh 多环境&quot;">​</a></h3><ol><li><p>进入用户根目录，创建.ssh 文件夹</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .ssh</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .ssh</span></span></code></pre></div></li><li><p>生成 github、gitlab 环境 ssh key</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ed25519</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;usera@github.com&quot;</span></span></code></pre></div></li><li><p>输入生成的文件名:<strong>github_rsa</strong>(可自定义)</p></li><li><p>输入加密密码（可以不输入密码）</p></li><li><p>打开.ssh/github_rsa.pub，并复制里面的内容</p></li><li><p>进入 github 的个人设置的 ssh key，并粘贴刚刚复制的内容</p></li><li><p>同样的方式生成 gitlab 的配置（注意邮箱、文件名要修改）</p></li><li><p>创建配置文件</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">touch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span></span></code></pre></div></li><li><p>修改配置文件</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span># gitlab</span></span>
<span class="line"><span>Host gitlab.com</span></span>
<span class="line"><span>    HostName gitlab.com</span></span>
<span class="line"><span>    PreferredAuthentications publickey</span></span>
<span class="line"><span>    IdentityFile ~/.ssh/gitlab_rsa</span></span>
<span class="line"><span># github</span></span>
<span class="line"><span>Host github.com</span></span>
<span class="line"><span>    HostName github.com</span></span>
<span class="line"><span>    PreferredAuthentications publickey</span></span>
<span class="line"><span>    IdentityFile ~/.ssh/github_rsa</span></span></code></pre></div></li><li><p>可以通过 ssh 下载 git 代码了</p><blockquote><p>第一次使用，没有 known_host 文件或索引，会询问<strong>This key is not known by any other names</strong>，输入 <strong>yes</strong> 即可</p></blockquote><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@github.com:usera/proa-ae.git</span></span></code></pre></div></li><li><p>已经通过 https 下载的仓库，修改 git 远程仓库地址</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set-url</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@github.com:usera/proa-ae.git</span></span></code></pre></div></li></ol>`,14),p=[e];function l(h,o,c,r,g,d){return i(),a("div",null,p)}const b=s(t,[["render",l]]);export{u as __pageData,b as default};
